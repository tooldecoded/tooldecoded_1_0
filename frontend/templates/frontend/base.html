{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}ToolDecoded - Product Database{% endblock %}</title>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.tailwindcss.com/3.4.0/plugins/typography.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'brand-blue': '#1e40af',
                        'brand-gray': '#6b7280',
                    }
                }
            }
        }
    </script>
    <style>
        /* Comprehensive fallback CSS for markdown rendering */
        .prose {
            color: #374151;
            line-height: 1.75;
            max-width: 65ch;
        }
        
        .prose h1 {
            font-size: 2.25rem;
            font-weight: 800;
            line-height: 1.111;
            margin-top: 0;
            margin-bottom: 2rem;
            color: #111827;
        }
        
        .prose h2 {
            font-size: 1.875rem;
            font-weight: 700;
            line-height: 1.333;
            margin-top: 2rem;
            margin-bottom: 1rem;
            color: #111827;
        }
        
        .prose h3 {
            font-size: 1.5rem;
            font-weight: 600;
            line-height: 1.6;
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
            color: #111827;
        }
        
        .prose h4 {
            font-size: 1.25rem;
            font-weight: 600;
            line-height: 1.6;
            margin-top: 1.25rem;
            margin-bottom: 0.5rem;
            color: #111827;
        }
        
        .prose h5 {
            font-size: 1.125rem;
            font-weight: 600;
            line-height: 1.6;
            margin-top: 1rem;
            margin-bottom: 0.5rem;
            color: #111827;
        }
        
        .prose h6 {
            font-size: 1rem;
            font-weight: 600;
            line-height: 1.6;
            margin-top: 1rem;
            margin-bottom: 0.5rem;
            color: #111827;
        }
        
        .prose p {
            margin-top: 1.25rem;
            margin-bottom: 1.25rem;
        }
        
        .prose ul {
            list-style-type: disc;
            margin-top: 1.25rem;
            margin-bottom: 1.25rem;
            padding-left: 1.625rem;
        }
        
        .prose ol {
            list-style-type: decimal;
            margin-top: 1.25rem;
            margin-bottom: 1.25rem;
            padding-left: 1.625rem;
        }
        
        .prose li {
            margin-top: 0.5rem;
            margin-bottom: 0.5rem;
        }
        
        .prose ul ul, .prose ol ol, .prose ul ol, .prose ol ul {
            margin-top: 0.75rem;
            margin-bottom: 0.75rem;
        }
        
        .prose blockquote {
            font-weight: 500;
            font-style: italic;
            color: #111827;
            border-left-width: 0.25rem;
            border-left-color: #e5e7eb;
            quotes: "\201C""\201D""\2018""\2019";
            margin-top: 1.6rem;
            margin-bottom: 1.6rem;
            padding-left: 1rem;
        }
        
        .prose blockquote p:first-of-type::before {
            content: open-quote;
        }
        
        .prose blockquote p:last-of-type::after {
            content: close-quote;
        }
        
        .prose code {
            color: #111827;
            font-weight: 600;
            font-size: 0.875em;
            background-color: #f3f4f6;
            padding: 0.125rem 0.25rem;
            border-radius: 0.25rem;
        }
        
        .prose pre {
            color: #e5e7eb;
            background-color: #1f2937;
            overflow-x: auto;
            font-weight: 400;
            font-size: 0.875em;
            line-height: 1.7142857;
            margin-top: 1.7142857em;
            margin-bottom: 1.7142857em;
            border-radius: 0.375rem;
            padding: 0.8571429em 1.1428571em;
        }
        
        .prose pre code {
            background-color: transparent;
            border-width: 0;
            border-radius: 0;
            padding: 0;
            font-weight: inherit;
            color: inherit;
            font-size: inherit;
            font-family: inherit;
            line-height: inherit;
        }
        
        .prose table {
            width: 100%;
            table-layout: auto;
            text-align: left;
            margin-top: 2em;
            margin-bottom: 2em;
            font-size: 0.875em;
            line-height: 1.7142857;
            border-collapse: collapse;
        }
        
        .prose thead {
            border-bottom-width: 1px;
            border-bottom-color: #d1d5db;
        }
        
        .prose thead th {
            color: #111827;
            font-weight: 600;
            vertical-align: bottom;
            padding-right: 0.5714286em;
            padding-bottom: 0.5714286em;
            padding-left: 0.5714286em;
        }
        
        .prose tbody tr {
            border-bottom-width: 1px;
            border-bottom-color: #e5e7eb;
        }
        
        .prose tbody tr:last-child {
            border-bottom-width: 0;
        }
        
        .prose tbody td {
            vertical-align: baseline;
            padding-top: 0.5714286em;
            padding-right: 0.5714286em;
            padding-bottom: 0.5714286em;
            padding-left: 0.5714286em;
        }
        
        .prose a {
            color: #2563eb;
            text-decoration: underline;
            font-weight: 500;
        }
        
        .prose a:hover {
            color: #1d4ed8;
        }
        
        .prose strong {
            color: #111827;
            font-weight: 600;
        }
        
        .prose em {
            color: #111827;
            font-style: italic;
        }
        
        .prose u {
            text-decoration: underline;
        }
        
        .prose img {
            margin-top: 2em;
            margin-bottom: 2em;
            max-width: 100%;
            height: auto;
        }
        
        .prose br {
            margin-top: 0.5rem;
            margin-bottom: 0.5rem;
        }
        
        /* Logo responsive styles */
        .logo {
            max-width: 100%;
            height: auto;
            object-fit: contain;
        }
        
        /* Ensure logo maintains aspect ratio on all devices */
        @media (max-width: 768px) {
            .logo {
                max-height: 2rem;
            }
        }
        
        @media (min-width: 769px) {
            .logo {
                max-height: 3rem;
            }
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="bg-white shadow-sm border-b sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <!-- Logo/Brand - HTML/CSS Version v3 -->
                <div class="flex items-center">
                    <a href="{% url 'home' %}" class="flex items-center group">
                        <!-- Desktop Logo -->
                        <div class="hidden md:block">
                            <img src="{% static 'frontend/images/logo.png' %}" alt="ToolDecoded Logo" class="h-12 w-auto bg-white rounded-lg">
                        </div>
                        <!-- Mobile Logo -->
                        <div class="md:hidden">
                            <img src="{% static 'frontend/images/logo.png' %}" alt="ToolDecoded Logo" class="h-8 w-auto bg-white rounded-lg">
                        </div>
                    </a>
                </div>
                
                <!-- Main Navigation -->
                <nav class="hidden md:flex space-x-8">
                    <a href="{% url 'home' %}" class="text-sm font-medium {% if request.resolver_match.url_name == 'home' %}text-blue-600 border-b-2 border-blue-600{% else %}text-gray-600 hover:text-gray-900{% endif %} transition-colors pb-1">
                        Home
                    </a>
                    <a href="{% url 'index' %}" class="text-sm font-medium {% if request.resolver_match.url_name == 'index' or request.resolver_match.url_name == 'product_detail' %}text-blue-600 border-b-2 border-blue-600{% else %}text-gray-600 hover:text-gray-900{% endif %} transition-colors pb-1">
                        Products
                    </a>
                    <a href="{% url 'components_index' %}" class="text-sm font-medium {% if request.resolver_match.url_name == 'components_index' or request.resolver_match.url_name == 'component_detail' %}text-blue-600 border-b-2 border-blue-600{% else %}text-gray-600 hover:text-gray-900{% endif %} transition-colors pb-1">
                        Components
                    </a>
                    <a href="{% url 'learning_index' %}" class="text-sm font-medium {% if request.resolver_match.url_name == 'learning_index' or request.resolver_match.url_name == 'learning_detail' %}text-blue-600 border-b-2 border-blue-600{% else %}text-gray-600 hover:text-gray-900{% endif %} transition-colors pb-1">
                        Learn
                    </a>
                    <a href="{% url 'about' %}" class="text-sm font-medium {% if request.resolver_match.url_name == 'about' %}text-blue-600 border-b-2 border-blue-600{% else %}text-gray-600 hover:text-gray-900{% endif %} transition-colors pb-1">
                        About
                    </a>
                    <a href="{% url 'contact' %}" class="text-sm font-medium {% if request.resolver_match.url_name == 'contact' %}text-blue-600 border-b-2 border-blue-600{% else %}text-gray-600 hover:text-gray-900{% endif %} transition-colors pb-1">
                        Contact
                    </a>
                </nav>
                
                <!-- Mobile menu button -->
                <div class="md:hidden">
                    <button type="button" class="text-gray-600 hover:text-gray-900 focus:outline-none focus:text-gray-900" onclick="toggleMobileMenu()">
                        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                    </button>
                </div>
            </div>
            
            <!-- Mobile Navigation -->
            <div id="mobile-menu" class="md:hidden hidden border-t border-gray-200 py-4">
                <nav class="flex flex-col space-y-2">
                    <a href="{% url 'home' %}" class="text-sm font-medium {% if request.resolver_match.url_name == 'home' %}text-blue-600{% else %}text-gray-600 hover:text-gray-900{% endif %} transition-colors py-2">
                        Home
                    </a>
                    <a href="{% url 'index' %}" class="text-sm font-medium {% if request.resolver_match.url_name == 'index' or request.resolver_match.url_name == 'product_detail' %}text-blue-600{% else %}text-gray-600 hover:text-gray-900{% endif %} transition-colors py-2">
                        Products
                    </a>
                    <a href="{% url 'components_index' %}" class="text-sm font-medium {% if request.resolver_match.url_name == 'components_index' or request.resolver_match.url_name == 'component_detail' %}text-blue-600{% else %}text-gray-600 hover:text-gray-900{% endif %} transition-colors py-2">
                        Components
                    </a>
                    <a href="{% url 'learning_index' %}" class="text-sm font-medium {% if request.resolver_match.url_name == 'learning_index' or request.resolver_match.url_name == 'learning_detail' %}text-blue-600{% else %}text-gray-600 hover:text-gray-900{% endif %} transition-colors py-2">
                        Learn
                    </a>
                    <a href="{% url 'about' %}" class="text-sm font-medium {% if request.resolver_match.url_name == 'about' %}text-blue-600{% else %}text-gray-600 hover:text-gray-900{% endif %} transition-colors py-2">
                        About
                    </a>
                    <a href="{% url 'contact' %}" class="text-sm font-medium {% if request.resolver_match.url_name == 'contact' %}text-blue-600{% else %}text-gray-600 hover:text-gray-900{% endif %} transition-colors py-2">
                        Contact
                    </a>
                </nav>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        {% block content %}{% endblock %}
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <!-- Brand Section -->
                <div class="col-span-1 md:col-span-2">
                    <div class="mb-4">
                        <img src="{% static 'frontend/images/logo.png' %}" alt="ToolDecoded Logo" class="h-10 w-auto bg-white rounded-lg p-1">
                    </div>
                    <p class="text-gray-300 text-sm leading-relaxed mb-4">
                        A comprehensive database and analysis platform for power tools, components, and accessories. 
                        Find detailed specifications, compatibility information, and component relationships across major tool brands.
                    </p>
                </div>
                
                <!-- Quick Links -->
                <div>
                    <h4 class="text-lg font-semibold mb-4">Quick Links</h4>
                    <ul class="space-y-2">
                        <li><a href="{% url 'home' %}" class="text-gray-300 hover:text-white transition-colors text-sm">Home</a></li>
                        <li><a href="{% url 'index' %}" class="text-gray-300 hover:text-white transition-colors text-sm">Products</a></li>
                        <li><a href="{% url 'components_index' %}" class="text-gray-300 hover:text-white transition-colors text-sm">Components</a></li>
                        <li><a href="{% url 'learning_index' %}" class="text-gray-300 hover:text-white transition-colors text-sm">Learn</a></li>
                        <li><a href="{% url 'about' %}" class="text-gray-300 hover:text-white transition-colors text-sm">About</a></li>
                        <li><a href="{% url 'contact' %}" class="text-gray-300 hover:text-white transition-colors text-sm">Contact</a></li>
                    </ul>
                </div>
                
                <!-- Contact Info -->
                <div>
                    <h4 class="text-lg font-semibold mb-4">Contact</h4>
                    <div class="space-y-2 text-sm text-gray-300">
                        <p>For questions about the database or to suggest additions:</p>
                        <a href="{% url 'contact' %}" class="text-blue-400 hover:text-blue-300 transition-colors">Use our contact form</a>
                        <p class="text-xs text-gray-400 mt-4">
                            Database updated regularly with new products and specifications.
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- Bottom Bar -->
            <div class="border-t border-gray-800 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center">
                <p class="text-gray-400 text-sm">
                    Â© 2025 ToolDecoded. All rights reserved.
                </p>
                <p class="text-gray-400 text-xs mt-2 md:mt-0">
                    Product information provided for research and comparison purposes.
                </p>
            </div>
        </div>
    </footer>

    <!-- Mobile Menu JavaScript -->
    <script>
        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenu.classList.toggle('hidden');
        }
    </script>
</body>
</html>
